//for BookStatus (upcoming,ongoing,ended) table book
CREATE EVENT change_bookstatus
ON SCHEDULE EVERY 1 SECOND
DO
  UPDATE book
  SET BookStatus = CASE
    WHEN BookStart > NOW() THEN 'upcoming'
    WHEN BookEnd < NOW() THEN 'ended'
    ELSE 'ongoing'
  END;

//for ApprovalStatus(pending,approved,cancelled) table book
CREATE EVENT change_approvalstatus
ON SCHEDULE EVERY 1 SECOND
DO
UPDATE book
SET ApprovalStatus='cancelled'
where BookStatus='ended' AND ApprovalStatus='pending';

//for SlotStatus(empty,occupied) table slot, according to BookStatus of table book
CREATE EVENT change_slotstatus
ON SCHEDULE EVERY 1 SECOND
DO
  UPDATE slot
  SET SlotStatus = (
    SELECT 
      CASE 
        WHEN SUM(book.BookStatus = 'ongoing') > 0 THEN 'occupied'
        ELSE 'empty'
      END
    FROM book
    WHERE book.SlotID = slot.SlotID
  )
  WHERE slot.SlotID IN (SELECT DISTINCT SlotID FROM book);
 
//for BookStatus(ended,upcoming,ongoing) according to ApprovalStatus(cancelled,approved,pending)
CREATE EVENT change_bookstatusonapprovalcancel
ON SCHEDULE EVERY 1 SECOND
DO
UPDATE book
SET BookStatus='ended'
where ApprovalStatus='cancelled';